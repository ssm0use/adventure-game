<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursed Farm Adventure</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=17">
</head>
<body>
    <div id="game-container">
        <!-- Header -->
        <header id="game-header">
            <h1>üèöÔ∏è CURSED FARM ADVENTURE</h1>
        </header>

        <div id="game-main">
            <!-- Left Sidebar: Character Stats and Inventory -->
            <aside id="left-sidebar">
                <!-- Character Name -->
                <div id="character-section">
                    <h2>CHARACTER</h2>
                    <input type="text" id="character-name" placeholder="Enter your name" maxlength="20">
                </div>

                <!-- Stats Display -->
                <div id="stats-section">
                    <h3>STATS</h3>
                    <div class="stat-row" data-stat="grit">
                        <span class="stat-name" title="Physical strength and endurance. Used to resist physical challenges and transformations.">
                            Grit
                        </span>
                        <span class="stat-value" id="stat-grit">
                            <!-- Stars will be generated here -->
                        </span>
                    </div>
                    <div class="stat-row" data-stat="keenEye">
                        <span class="stat-name" title="Perception and awareness. Used to spot hidden areas, detect danger, and notice important details.">
                            Keen Eye
                        </span>
                        <span class="stat-value" id="stat-keenEye">
                            <!-- Stars will be generated here -->
                        </span>
                    </div>
                    <div class="stat-row" data-stat="charm">
                        <span class="stat-name" title="Social skills and charisma. Used to communicate with spirits, calm creatures, and build relationships.">
                            Charm
                        </span>
                        <span class="stat-value" id="stat-charm">
                            <!-- Stars will be generated here -->
                        </span>
                    </div>
                </div>

                <!-- Bonus Point Assignment (shown at game start) -->
                <div id="bonus-point-section" style="display: none;">
                    <h3>BONUS POINT</h3>
                    <p>Choose one stat to boost by 1 point:</p>
                    <button class="bonus-btn" data-stat="grit">+1 Grit</button>
                    <button class="bonus-btn" data-stat="keenEye">+1 Keen Eye</button>
                    <button class="bonus-btn" data-stat="charm">+1 Charm</button>
                </div>

                <!-- Equipped Items -->
                <div id="equipped-section">
                    <h3>EQUIPPED</h3>
                    <ul id="equipped-list">
                        <li class="empty-state">Nothing equipped</li>
                    </ul>
                </div>

                <!-- Inventory -->
                <div id="inventory-section">
                    <h3>INVENTORY</h3>
                    <ul id="inventory-list">
                        <li class="empty-state">Empty</li>
                    </ul>
                </div>

                <!-- Active Curses -->
                <div id="curses-section" style="display: none;">
                    <h3>‚ö†Ô∏è CURSES</h3>
                    <ul id="curses-list">
                        <!-- Active curses will appear here -->
                    </ul>
                </div>

                <!-- Save/Load Buttons -->
                <div id="save-load-section">
                    <button id="save-btn" class="action-btn">Save Game</button>
                    <button id="load-btn" class="action-btn">Load Game</button>
                    <button id="new-game-btn" class="action-btn">New Game</button>
                </div>

                <!-- Game Settings (collapsible) -->
                <div id="game-settings-section">
                    <div id="game-settings-header">
                        <span>Game Settings</span>
                        <span id="game-settings-chevron" class="settings-chevron">&#9654;</span>
                    </div>
                    <div id="game-settings-body" class="settings-body collapsed">
                        <!-- Sound Toggle -->
                        <div class="settings-row">
                            <span class="settings-label">Sound</span>
                            <button id="audio-toggle" class="settings-toggle-btn" title="Turn music on">üîá Off</button>
                        </div>

                        <!-- Story Text Size -->
                        <div class="settings-row">
                            <span class="settings-label">Story Text Size</span>
                            <div class="settings-size-controls">
                                <button id="font-size-decrease" class="settings-size-btn" title="Decrease text size">‚àí</button>
                                <span id="font-size-label">Default</span>
                                <button id="font-size-increase" class="settings-size-btn" title="Increase text size">+</button>
                            </div>
                        </div>

                        <!-- Difficulty Selector -->
                        <div class="settings-row settings-row-vertical">
                            <span class="settings-label">Difficulty</span>
                            <div class="settings-difficulty">
                                <label class="difficulty-option">
                                    <input type="radio" name="difficulty" value="story"> Story Mode
                                </label>
                                <label class="difficulty-option">
                                    <input type="radio" name="difficulty" value="default" checked> Default
                                </label>
                                <label class="difficulty-option">
                                    <input type="radio" name="difficulty" value="hard"> Hard
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Story Area -->
            <main id="story-area">
                <!-- Current Location Header -->
                <div id="location-header" style="display: none;">
                    <span id="current-location">Unknown</span>
                </div>

                <!-- Inline Curse Status (appears when cursed) -->
                <div id="curse-status" style="display: none;">
                </div>

                <div id="story-text">
                    <!-- Story content will be displayed here -->
                </div>

                <div id="choices-area">
                    <!-- Choice buttons will appear here -->
                </div>

                <div id="hex-map">
                    <!-- Hexagonal navigation map will appear here -->
                </div>

                <!-- Encounter Results Display -->
                <div id="encounter-results" style="display: none;">
                    <!-- Dice roll results will appear here -->
                </div>

                <!-- Explored Areas Log -->
                <div id="explored-areas-section" style="display: none;">
                    <h3>Explored Areas</h3>
                    <ul id="explored-areas-list">
                    </ul>
                </div>
            </main>
        </div>
    </div>

    <!-- Modal for Save/Load -->
    <div id="modal-overlay" style="display: none;">
        <div id="modal-content">
            <h2 id="modal-title">Save Game</h2>
            <div id="modal-body">
                <!-- Modal content will be inserted here -->
            </div>
            <button id="modal-close" class="action-btn">Close</button>
        </div>
    </div>

    <!-- Load all JavaScript modules -->
    <script src="js/story-loader.js?v=17"></script>
    <script src="js/game-state.js?v=17"></script>
    <script src="js/encounters.js?v=17"></script>
    <script src="js/save-load.js?v=17"></script>
    <script src="js/audio.js?v=17"></script>
    <script src="js/ui.js?v=17"></script>
    <script src="js/main.js?v=17"></script>
</body>
</html>
